<h1>Carts#show</h1>
<p>Find me in app/views/carts/show.html.erb</p>



<h2> Cart id:<%= @cart.id %></h2>
<h3> Cart status:<%= @cart.status %></h4>



<!-- 假如說 相同產品 想要合併時 該如何做？ -->
<table class = 'table table-hover'>

<thead> 
	
<td><h3>Product</h3></td>
<td><h3>Price</h3></td>
<td><h3>Quantity</h3></td>
<td><h3>Total</h3></td>
<td><h3>Action</h3></td>

</thead>

<% sum = 0 %>
<tbody>
<% @line_items.each do |line_item| %>
	
	<tr>
	<td>

		<%= line_item.product.name %>
	</td> 
	<td>
		$<%= line_item.unit_price %>
	</td>
	<td>
		<%= line_item.quantity %>
	</td>
	<td>
		$<%= line_item.unit_price * line_item.quantity %>
		<% sum = sum + (line_item.unit_price * line_item.quantity)  %>
	</td>
	<td>

		<%= link_to "Delete", line_item_path(line_item), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-primary' %>


	</td>

	<td>
		
	<%= form_for line_item do |f| %>

		<%= fields_for :line_items, line_item do |ff| %>
	  	<% a = ff.object %>
	  
		    <td><%= link_to a.product.name, a.product %></td>
		    <td><%= ff.number_field :quantity %></td>
		
		<% end %>

		<td><%=  f.submit %></td>

	<% end %>













	</td>
	</tr>

<% end %>
<td></td>
<td></td>
<td>Total: </td>
<td> $<%= sum %></td>
</tbody>
</table>





